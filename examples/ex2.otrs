let nats = {
  let aux = fn n -> !#n << @(aux #(!#n + 1));
  aux #0 
}

let scan = fn f #acc as ->
  match as with {
    a << as => {
      let acc' = !#f acc a;
      acc' << @(scan f acc' !@as)
    }
  }

let triangles = scan #(fn x y -> x + y) 0 nats

